<!DOCTYPE html>
<html>
<head>
    <title>Admin Page</title>
    <link href="custInfo.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

    <div id="sidebar" class = "sidenav">
        <button id="closeBtn" class="btn glyphicon glyphicon-remove" onclick="closeNav()"></button> 
        <h3 style="color: white; padding: 6px 8px 6px 16px;">Welcome Admin</h3>
        <a href = "custInfo.html">Customer Information</a>
        <a href = "salesReport.html">Sales Report</a>
        <a href = "reservations.html">Reservations</a>
        <a href = "revenue.html">Revenue</a>
        <a href = "#">Flights</a>
    </div>
<div id="main">

    <button id="openbtn" onclick="openNav()" class="btn glyphicon glyphicon-menu-hamburger"></button>
    <div class="titleBar">
        <h1 id ="title">Customer Information</hr></h1>
    </div>

    <div class="inputForm">
        <form id="custInfoForm">
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label for="fname">First name:</label><br>
                    <input class="form-control" type="text" id="fname" name="fname">
                </div>

                <div class="form-group col-md-3">
                    <label for="lname">Last name:</label>
                    <input class="form-control" type="text" id="lname" name="lname">
                </div>

                <div class="form-group col-md-4">
                    <label for="acctN">Acct #:</label>
                    <input class="form-control" type="text" id="acctN" name="acctN">
                </div>
                <div class="form-group col-md-2">
                    <label for="date">Acct. Creation Date:</label>
                    <input class="form-control" type="text" id="date" name="date">
                </div>
            </div> 
                <div class="form-group col-md-12">
                    <label for="address">Address:</label>
                    <input class="form-control" type="text" id="address" name="address">
                </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="city">City:</label>
                    <input class="form-control" type="text" id="city" name="city">
                </div>
                <div class="form-group col-md-4">
                    <label for="state">State:</label>
                    <input class="form-control" type="text" id="state" name="state">
                </div>
                <div class="form-group col-md-2">
                    <label for="zip">Zip Code:</label>
                    <input class="form-control" type="text" id="zip" name="zip">
                </div>
            </div>
                
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="tel">Tele:</label>
                    <input class="form-control" type="text" id="tel" name="tel">
                </div>
                <div class="form-group col-md-6">
                    <label for="email">Email:</label>
                    <input class="form-control" type="text" id="email" name="email">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="creditcard">Credit Card:</label>
                    <input class="form-control" type="text" id="creditcard" name="creditcard">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="pref">Pref:</label>
                    <input class="form-control" type="text" id="pref" name="pref">
                </div>
            </div>
                    
            <div class="form-row">
                <div class="form-group col-md-2">
                    <button class="btn btn-primary"id="Add">Add</button> 
                </div>
            </div>

        </form>
    </div>
   
    

    <table class="table" style="width:100%" id="custInfoTable">
        <tr>
            
            <th width="7%">First Name</th>
            <th width="7%">Last Name</th>
            <th>Address</th>
            <th width="5%">City</th>
            <th width="4%">State</th>
            <th width="5%">Zip Code</th>
            <th width="7%">Telephone</th>  
            <th>Email Address</th>
            <th>Acct. Number</th>  
            <th>Acct. Creation Date</th>  
            <th>Credit Card</th>
            <th width="5%">Pref.</th>
            <th width="4%">Delete</th>
            
        </tr>
        <tbody>

        </tbody>
    </table>

    
</div>

    <script>

        $("#custInfoForm").submit(function(e) {
            e.preventDefault();
        });
        $(document).ready(function(){
            $('#Add').click(function(){

                var first = $('#fname').val();
                var last = $('#lname').val();
                var address = $('#address').val();
                var city = $('#city').val();
                var state = $('#state').val();
                var zip = $('#zip').val();
                var tel = $('#tel').val();
                var email = $('#email').val();
                var acctNumber = $('#acctN').val();
                var date = $('#date').val();
                var creditcard = $('#creditcard').val();
                var pref = $('#pref').val();
                
                $('#custInfoTable tr:last').after(
                    
                    " <tr> <td contenteditable=true>" + first + "</td>" +
                    " <td contenteditable=true>" + last + "</td>" +
                    " <td contenteditable=true>" + address + "</td>" +
                    " <td contenteditable=true>" + city + "</td>" +
                    " <td contenteditable=true>" + state + "</td>" +
                    " <td contenteditable=true>" + zip + "</td>" +
                    " <td contenteditable=true>" + tel + "</td>" +
                    " <td contenteditable=true>" + email + "</td>" +
                    " <td contenteditable=true>" + acctNumber + "</td>" +
                    " <td contenteditable=true>" + date + "</td>" +
                    " <td contenteditable=true>" + creditcard + "</td>" +
                    " <td contenteditable=true>" + pref + "</td>" +
                    " <td><button class='btn glyphicon glyphicon-remove' onclick=deleteRow(this)></button></td></tr>"
                );

            });
        });

        function editRow(e){
            var rowIndex = $(e).closest('tr').rowIndex;
            console.log(rowIndex);
            var table = document.getElementById("custInfoTable");
            var row = table.rows[rowIndex];
            
            var rowLength = document.getElementById("custInfoTable").rows.length;
            for (var j = 0, col; col = row.cells[j]; j++) {

                col.setContentEditable="true";
            }  
        }
        
        function deleteRow(element){
            console.log("trying to delete");
            document.getElementById("custInfoTable").deleteRow(element.closest('tr').rowIndex);
        }; 

        function openNav() {
            
            document.getElementById("sidebar").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
        }

        function closeNav() {
            console.log("Working");
            document.getElementById("sidebar").style.width = "0";
            document.getElementById("main").style.marginLeft= "0";
        }

    </script>


</body>
</html>