<!DOCTYPE html>
<html>
<head>
    <title>Admin Page</title>
    <link href="custInfo.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

    <div class = "sidenav">
        <a href = "custInfo.html">Customer Information</a>
        <a href = "#">Sales Report</a>
        <a href = "#">Reservations</a>
        <a href = "#">Revenue</a>
        <a href = "#">Flights</a>
    </div>

    <h1 id ="title">Customer Information</h1>

    <table style="width:90%" id="custInfoTable">
        <tr>
            
            <th width="7%">Last Name</th>
            <th width="7%">First Name</th>
            <th>Address</th>
            <th width="5%">City</th>
            <th width="4%">State</th>
            <th width="5%">Zip Code</th>
            <th width="7%">Telephone</th>  
            <th>Email Address</th>
            <th>Acct. Number</th>  
            <th>Acct. Creation Date</th>  
            <th>Credit Card</th>
            <th width="5%">Pref.</th>
            <th width="4%">Delete</th>
            
        </tr>
        <tbody>

        </tbody>
    </table>

    <div class="inputForm">
        <form id="custInfoForm">
            <label for="fname">First name:</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Last name:</label><br>
            <input type="text" id="lname" name="lname"><br>
            <label for="address">Address:</label><br>
            <input type="text" id="address" name="address"><br>
            <label for="city">City:</label><br>
            <input type="text" id="city" name="city"><br>
            <label for="state">State:</label><br>
            <input type="text" id="state" name="state"><br>
            <label for="zip">Zip Code:</label><br>
            <input type="text" id="zip" name="zip"><br>
            <label for="tel">Tele:</label><br>
            <input type="text" id="tel" name="tel"><br>
            <label for="email">Email:</label><br>
            <input type="text" id="email" name="email"><br>
            <label for="acctN">Acct #:</label><br>
            <input type="text" id="acctN" name="acctN"><br>
            <label for="date">Acct. Creation Date:</label><br>
            <input type="text" id="date" name="date"><br>
            <label for="creditcard">Credit Card:</label><br>
            <input type="text" id="creditcard" name="creditcard"><br>
            <label for="pref">Pref:</label><br>
            <input type="text" id="pref" name="pref"><br>
            <button id="Add">Add</button>  
        </form>
    </div>
    
   

    <script>

        $("#custInfoForm").submit(function(e) {
            e.preventDefault();
        });
        $(document).ready(function(){
            $('#Add').click(function(){

                var last = $('#lname').val();
                console.log(last);
                var first = $('#fname').val();
                console.log(first);
                var address = $('#address').val();
                console.log(address);
                var city = $('#city').val();
                console.log(city);
                var state = $('#state').val();
                console.log(state);
                var zip = $('#zip').val();
                console.log(zip);
                var tel = $('#tel').val();
                console.log(tel);
                var email = $('#email').val();
                console.log(email);
                var acctNumber = $('#acctN').val();
                console.log(acctNumber);
                var date = $('#date').val();
                console.log(date);
                var creditcard = $('#creditcard').val();
                console.log(creditcard);
                var pref = $('#pref').val();
                console.log(pref);
                
                $('#custInfoTable tr:last').after(
                    
                    " <tr> <td contenteditable=true>" + last + "</td>" +
                    " <td contenteditable=true>" + first + "</td>" +
                    " <td contenteditable=true>" + address + "</td>" +
                    " <td contenteditable=true>" + city + "</td>" +
                    " <td contenteditable=true>" + state + "</td>" +
                    " <td contenteditable=true>" + zip + "</td>" +
                    " <td contenteditable=true>" + tel + "</td>" +
                    " <td contenteditable=true>" + email + "</td>" +
                    " <td contenteditable=true>" + acctNumber + "</td>" +
                    " <td contenteditable=true>" + date + "</td>" +
                    " <td contenteditable=true>" + creditcard + "</td>" +
                    " <td contenteditable=true>" + pref + "</td>" +
                    " <td><button onclick=deleteRow(this)>X</button></td></tr>"
                );

            });
        });

        function editRow(e){
            var rowIndex = $(e).closest('tr').rowIndex;
            console.log(rowIndex);
            var table = document.getElementById("custInfoTable");
            var row = table.rows[rowIndex];
            
            var rowLength = document.getElementById("custInfoTable").rows.length;
            for (var j = 0, col; col = row.cells[j]; j++) {

                col.setContentEditable="true";
            }  
        }
        
        function deleteRow(element){
            console.log("trying to delete");
            document.getElementById("custInfoTable").deleteRow(element.closest('tr').rowIndex);
        }; 

    </script>


</body>
</html>